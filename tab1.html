<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Carousel</title>
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="https://github.com/Thana-ptz/html/blob/9c5ce45fb79f71a228b7dd72e844671e4189dada/image/1.png" alt="Image 1">
    </div>
    <div class="carousel-item">
      <img src="image/2.png" alt="Image 2">
    </div>
    <div class="carousel-item">
      <img src="image/3.png" alt="Image 3">
    </div>
  </div>
  <a class="carousel-control prev" href="#">&laquo;</a>
  <a class="carousel-control next" href="#">&raquo;</a>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const carouselItems = document.querySelectorAll(".carousel-item");
    const totalItems = carouselItems.length;
    const carouselInner = document.querySelector(".carousel-inner");
    const prevBtn = document.querySelector(".prev");
    const nextBtn = document.querySelector(".next");
    let currentIndex = 0;
    let startX = null;
    let isDragging = false;

    function showItem(index) {
      if (index < 0) {
        currentIndex = totalItems - 1;
      } else if (index >= totalItems) {
        currentIndex = 0;
      } else {
        currentIndex = index;
      }

      const offset = -currentIndex * 100;
      carouselInner.style.transform = `translateX(${offset}%)`;
    }

    prevBtn.addEventListener("click", function() {
      showItem(currentIndex - 1);
    });

    nextBtn.addEventListener("click", function() {
      showItem(currentIndex + 1);
    });

    function startDrag(e) {
      isDragging = true;
      startX = e.clientX;
    }

    function endDrag() {
      isDragging = false;
      startX = null;
    }

    function moveCarousel(e) {
      if (!isDragging) return;

      const x = e.clientX;
      const difference = x - startX;
      const threshold = 50;

      if (difference > threshold) {
        showItem(currentIndex - 1);
        endDrag();
      } else if (difference < -threshold) {
        showItem(currentIndex + 1);
        endDrag();
      }
    }

    carouselInner.addEventListener("mousedown", startDrag);
    carouselInner.addEventListener("mouseup", endDrag);
    carouselInner.addEventListener("mousemove", moveCarousel);
  });
</script>
</body>
</html>
